---
import SectionTitle from "../ui/SectionTitle.astro";
import SwiperSlider from "../ui/SwiperSlider.astro";
import Section from "./Section.astro";
import TimeLine from "./TimeLine.astro";
import ModalForm from '../ModalForm';
import modalStyles from '../../utils/formConfigs/modal';
import Communicate from "./Communicate.astro";
import AiForm from '../jsx/AiForm.jsx';

const formFieldsTime = [
    { name: 'Picture', label: 'Picture', type: 'file' },
    { name: 'Title', label: 'Title', type: 'text' },
    { name: 'Time', label: 'Time', type: 'month' },
    { name: 'Description', label: 'Description', type: 'textarea' }
];
const formFields = [
    { name: 'Content', label: 'Content', type: 'textarea' }
];
---

<Section id="testimonials">
  <div>
    <SectionTitle
      sectionTitle="TimeLine"
      description="In Loving Memory: Relive the Milestones and Precious Sequences that Shaped a Treasured Existence"
    />
    <TimeLine />
    <ModalForm
            apiUrl="/api/submit"
            method="POST"
            fields={formFieldsTime}
            submitText="Submit"
            cancelText="Cancel"
            classConfig={modalStyles}
            onSuccess={(data) => console.log('表单提交成功:', data)}
            client:load
            >
            <button class="btn-primary items-center mb-10">
                Add Timeline
                </button>
        </ModalForm>
      <AiForm
            client:load
            name="Kobe Bryant"
            description="Kobe Bryant, a basketball legend, was born in 1978. Drafted in 1996, he spent 20 seasons with the Lakers, winning 5 championships. His Mamba Mentality inspired many."
    />
    <SectionTitle
      sectionTitle="Message Wall"
      description="In Loving Memory: Share Your Heartfelt Tributes and Cherished Moments to Honor a Precious Life"
    />
    <div class="rounded-[45px] bg-dark mb-[50px] text-gray">
      <SwiperSlider/>
    </div>
    <ModalForm
            apiUrl="/api/submit"
            method="POST"
            fields={formFields}
            submitText="Submit"
            cancelText="Cancel"
            classConfig={modalStyles}
            onSuccess={(data) => console.log('表单提交成功:', data)}
            client:load
            >
            <button class="btn-primary items-center mb-10">
                Add Timeline
                </button>
        </ModalForm>
  </div>
</Section>
